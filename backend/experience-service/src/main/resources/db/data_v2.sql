-- 体验馆增强数据 V2 - 成就、任务、答题数据

-- =====================================================
-- 更新场景数据（增加新字段）
-- =====================================================

UPDATE `scene` SET 
  `difficulty` = 2, 
  `reward_points` = 150, 
  `panorama_url` = '/panorama/xibaipo_360.jpg',
  `audio_url` = '/audio/xibaipo_bg.mp3',
  `sort_order` = 1
WHERE `id` = 1;

UPDATE `scene` SET 
  `difficulty` = 3, 
  `reward_points` = 200, 
  `panorama_url` = '/panorama/ranzhuang_360.jpg',
  `audio_url` = '/audio/ranzhuang_bg.mp3',
  `sort_order` = 2
WHERE `id` = 2;

UPDATE `scene` SET 
  `difficulty` = 1, 
  `reward_points` = 100, 
  `panorama_url` = '/panorama/lidazhao_360.jpg',
  `audio_url` = '/audio/lidazhao_bg.mp3',
  `sort_order` = 3
WHERE `id` = 3;

UPDATE `scene` SET 
  `difficulty` = 3, 
  `reward_points` = 180, 
  `panorama_url` = '/panorama/langyashan_360.jpg',
  `audio_url` = '/audio/langyashan_bg.mp3',
  `sort_order` = 4
WHERE `id` = 4;

UPDATE `scene` SET 
  `difficulty` = 2, 
  `reward_points` = 250, 
  `panorama_url` = '/panorama/saihanba_360.jpg',
  `audio_url` = '/audio/saihanba_bg.mp3',
  `sort_order` = 5
WHERE `id` = 5;

-- =====================================================
-- 成就数据
-- =====================================================

INSERT INTO `achievement` (`code`, `name`, `description`, `icon`, `category`, `condition_type`, `condition_value`, `reward_points`, `rarity`, `sort_order`) VALUES
-- 探索类成就
('first_scene', '初探红途', '完成第一个场景体验', '🎯', 'explore', 'scenes_completed', 1, 50, 1, 1),
('explorer_3', '红色探索者', '完成3个场景体验', '🔍', 'explore', 'scenes_completed', 3, 100, 2, 2),
('explorer_all', '红途先锋', '完成全部5个场景体验', '🏆', 'explore', 'scenes_completed', 5, 300, 4, 3),

-- 学习类成就
('quiz_10', '知识新星', '答对10道题目', '⭐', 'quiz', 'quizzes_correct', 10, 80, 1, 10),
('quiz_50', '历史学者', '答对50道题目', '📚', 'quiz', 'quizzes_correct', 50, 200, 2, 11),
('quiz_100', '红色博士', '答对100道题目', '🎓', 'quiz', 'quizzes_correct', 100, 500, 3, 12),
('quiz_perfect', '完美答卷', '在任意场景中答对全部题目', '💯', 'quiz', 'perfect_quiz', 1, 150, 3, 13),

-- 任务类成就
('task_5', '任务达人', '完成5个任务', '✅', 'task', 'tasks_completed', 5, 100, 1, 20),
('task_20', '任务大师', '完成20个任务', '🎖️', 'task', 'tasks_completed', 20, 300, 2, 21),

-- 积分类成就
('points_500', '积分新手', '累计获得500积分', '💰', 'points', 'total_points', 500, 50, 1, 30),
('points_2000', '积分达人', '累计获得2000积分', '💎', 'points', 'total_points', 2000, 150, 2, 31),
('points_5000', '积分王者', '累计获得5000积分', '👑', 'points', 'total_points', 5000, 400, 3, 32),

-- 打卡类成就
('checkin_3', '初心不改', '连续打卡3天', '📅', 'checkin', 'streak_days', 3, 30, 1, 40),
('checkin_7', '坚持不懈', '连续打卡7天', '🔥', 'checkin', 'streak_days', 7, 100, 2, 41),
('checkin_30', '红途常客', '连续打卡30天', '🌟', 'checkin', 'streak_days', 30, 500, 4, 42),

-- 特殊成就
('speed_run', '闪电体验', '在10分钟内完成一个场景', '⚡', 'special', 'speed_complete', 1, 100, 2, 50),
('night_owl', '夜间探索', '在晚上10点后完成体验', '🦉', 'special', 'night_complete', 1, 50, 1, 51),
('early_bird', '早起的鸟儿', '在早上6点前完成体验', '🐦', 'special', 'early_complete', 1, 50, 1, 52),
('collector', '收藏家', '获得10个成就', '🏅', 'special', 'achievements_count', 10, 200, 3, 53);

-- =====================================================
-- 任务数据
-- =====================================================

-- 西柏坡任务
INSERT INTO `task` (`scene_id`, `name`, `description`, `type`, `target_value`, `reward_points`, `time_limit`, `sort_order`) VALUES
(1, '探索中央大院', '访问西柏坡中央大院的所有交互点', 'explore', 8, 100, NULL, 1),
(1, '三大战役知识问答', '完成关于三大战役的5道题目', 'quiz', 5, 80, 300, 2),
(1, '寻找历史印记', '找到并查看3处领导人旧居', 'collect', 3, 60, NULL, 3),
(1, '限时挑战', '在5分钟内完成场景体验', 'challenge', 1, 150, 300, 4);

-- 冉庄地道战任务
INSERT INTO `task` (`scene_id`, `name`, `description`, `type`, `target_value`, `reward_points`, `time_limit`, `sort_order`) VALUES
(2, '地道探秘', '探索地道的所有区域', 'explore', 12, 150, NULL, 1),
(2, '地道战知识测验', '完成关于地道战的8道题目', 'quiz', 8, 120, 480, 2),
(2, '机关寻踪', '找到地道中的所有机关设施', 'collect', 4, 80, NULL, 3),
(2, '速通挑战', '在8分钟内完成全部探索', 'challenge', 1, 200, 480, 4);

-- 李大钊纪念馆任务
INSERT INTO `task` (`scene_id`, `name`, `description`, `type`, `target_value`, `reward_points`, `time_limit`, `sort_order`) VALUES
(3, '缅怀先驱', '参观纪念馆的所有展区', 'explore', 6, 80, NULL, 1),
(3, '革命先驱知识问答', '完成关于李大钊的4道题目', 'quiz', 4, 60, 240, 2),
(3, '文物鉴赏', '查看所有珍贵文物', 'collect', 2, 50, NULL, 3);

-- 狼牙山任务
INSERT INTO `task` (`scene_id`, `name`, `description`, `type`, `target_value`, `reward_points`, `time_limit`, `sort_order`) VALUES
(4, '英雄之路', '沿着五壮士的足迹完成探索', 'explore', 5, 100, NULL, 1),
(4, '五壮士知识问答', '完成关于五壮士的5道题目', 'quiz', 5, 80, 300, 2),
(4, '极限挑战', '在6分钟内完成场景', 'challenge', 1, 180, 360, 3);

-- 塞罕坝任务
INSERT INTO `task` (`scene_id`, `name`, `description`, `type`, `target_value`, `reward_points`, `time_limit`, `sort_order`) VALUES
(5, '绿色奇迹之旅', '探索塞罕坝的所有景点', 'explore', 10, 180, NULL, 1),
(5, '生态文明知识问答', '完成关于塞罕坝的6道题目', 'quiz', 6, 100, 360, 2),
(5, '三代人的故事', '了解三代塞罕坝人的故事', 'collect', 3, 70, NULL, 3),
(5, '林海速览', '在10分钟内完成全部探索', 'challenge', 1, 250, 600, 4);

-- =====================================================
-- 答题数据
-- =====================================================

-- 西柏坡题目
INSERT INTO `quiz` (`scene_id`, `question`, `type`, `options`, `answer`, `explanation`, `points`, `difficulty`, `sort_order`) VALUES
(1, '中共七届二中全会是在哪一年召开的？', 'single', '["1948年", "1949年", "1950年", "1947年"]', 'B', '中共七届二中全会于1949年3月5日至13日在西柏坡召开。', 10, 1, 1),
(1, '毛泽东在西柏坡提出的"两个务必"是指什么？', 'single', '["务必谦虚谨慎、务必艰苦奋斗", "务必团结、务必胜利", "务必学习、务必进步", "务必勤俭、务必节约"]', 'A', '毛泽东提出"务必使同志们继续地保持谦虚、谨慎、不骄、不躁的作风，务必使同志们继续地保持艰苦奋斗的作风"。', 10, 2, 2),
(1, '三大战役不包括以下哪一个？', 'single', '["辽沈战役", "淮海战役", "平津战役", "渡江战役"]', 'D', '三大战役是指辽沈战役、淮海战役和平津战役，渡江战役是在三大战役之后进行的。', 10, 1, 3),
(1, '中共中央离开西柏坡前往北平是在哪一天？', 'single', '["1949年3月23日", "1949年4月1日", "1949年5月1日", "1949年10月1日"]', 'A', '1949年3月23日，中共中央离开西柏坡前往北平，毛泽东称之为"进京赶考"。', 10, 2, 4),
(1, '西柏坡被誉为什么？', 'single', '["革命圣地", "新中国从这里走来", "红色摇篮", "革命发源地"]', 'B', '西柏坡被誉为"新中国从这里走来"，是中国革命的重要转折点。', 10, 1, 5);

-- 冉庄地道战题目
INSERT INTO `quiz` (`scene_id`, `question`, `type`, `options`, `answer`, `explanation`, `points`, `difficulty`, `sort_order`) VALUES
(2, '冉庄地道战遗址位于哪个省份？', 'single', '["河北省", "山东省", "河南省", "山西省"]', 'A', '冉庄地道战遗址位于河北省保定市清苑区冉庄镇。', 10, 1, 1),
(2, '地道战主要发生在哪个历史时期？', 'single', '["抗日战争时期", "解放战争时期", "土地革命时期", "抗美援朝时期"]', 'A', '地道战是抗日战争时期华北平原人民创造的一种独特的作战方式。', 10, 1, 2),
(2, '冉庄地道的总长度约为多少？', 'single', '["5公里", "10公里", "16公里", "20公里"]', 'C', '冉庄地道全长约16公里，形成了户户相连、村村相通的地下网络。', 10, 2, 3),
(2, '地道战的主要作用是什么？', 'multiple', '["隐蔽转移", "储存物资", "打击敌人", "以上都是"]', 'D', '地道战具有隐蔽转移、储存物资、打击敌人等多种作用。', 15, 2, 4),
(2, '以下哪部电影反映了地道战的故事？', 'single', '["地道战", "地雷战", "铁道游击队", "小兵张嘎"]', 'A', '1965年上映的电影《地道战》生动再现了冀中人民利用地道抗击日寇的英勇事迹。', 10, 1, 5),
(2, '地道内设置的"翻板"机关主要用于什么？', 'single', '["通风", "防水", "防止敌人追击", "照明"]', 'C', '翻板机关是地道内的防御设施，敌人踩上去会翻转落入陷阱。', 10, 2, 6),
(2, '冉庄地道战遗址是全国重点文物保护单位吗？', 'truefalse', '["是", "否"]', 'A', '冉庄地道战遗址于1961年被国务院公布为全国重点文物保护单位。', 10, 1, 7),
(2, '地道战中，村民们主要使用什么武器？', 'single', '["土枪土炮", "机关枪", "大炮", "飞机"]', 'A', '地道战中，村民们主要使用土枪土炮等简陋武器，但凭借地道的优势取得了胜利。', 10, 1, 8);

-- 李大钊纪念馆题目
INSERT INTO `quiz` (`scene_id`, `question`, `type`, `options`, `answer`, `explanation`, `points`, `difficulty`, `sort_order`) VALUES
(3, '李大钊是哪里人？', 'single', '["河北乐亭", "北京", "天津", "河南"]', 'A', '李大钊1889年出生于河北省乐亭县大黑坨村。', 10, 1, 1),
(3, '李大钊在哪所大学担任图书馆主任？', 'single', '["清华大学", "北京大学", "南开大学", "复旦大学"]', 'B', '1918年，李大钊担任北京大学图书馆主任，后兼任经济学教授。', 10, 1, 2),
(3, '李大钊是中国最早传播马克思主义的先驱之一，他发表的重要文章是？', 'single', '["《我的马克思主义观》", "《新民主主义论》", "《论持久战》", "《实践论》"]', 'A', '1919年，李大钊发表《我的马克思主义观》，系统介绍马克思主义。', 10, 2, 3),
(3, '李大钊牺牲于哪一年？', 'single', '["1925年", "1926年", "1927年", "1928年"]', 'C', '1927年4月28日，李大钊在北京英勇就义，年仅38岁。', 10, 2, 4);

-- 狼牙山题目
INSERT INTO `quiz` (`scene_id`, `question`, `type`, `options`, `answer`, `explanation`, `points`, `difficulty`, `sort_order`) VALUES
(4, '狼牙山五壮士的事迹发生在哪一年？', 'single', '["1940年", "1941年", "1942年", "1943年"]', 'B', '狼牙山五壮士的英勇事迹发生在1941年9月25日。', 10, 1, 1),
(4, '狼牙山位于哪个省份？', 'single', '["河北省", "山西省", "河南省", "山东省"]', 'A', '狼牙山位于河北省保定市易县。', 10, 1, 2),
(4, '五壮士中，有几人幸存？', 'single', '["0人", "1人", "2人", "3人"]', 'C', '五壮士跳崖后，葛振林和宋学义被树枝挂住幸存，其他三人壮烈牺牲。', 10, 2, 3),
(4, '五壮士跳崖的山峰叫什么名字？', 'single', '["棋盘陀", "莲花峰", "天柱峰", "玉皇顶"]', 'A', '五壮士在狼牙山主峰棋盘陀英勇跳崖。', 10, 2, 4),
(4, '以下哪位不是狼牙山五壮士之一？', 'single', '["马宝玉", "葛振林", "宋学义", "董存瑞"]', 'D', '狼牙山五壮士是马宝玉、葛振林、宋学义、胡德林、胡福才，董存瑞是另一位英雄。', 10, 1, 5);

-- 塞罕坝题目
INSERT INTO `quiz` (`scene_id`, `question`, `type`, `options`, `answer`, `explanation`, `points`, `difficulty`, `sort_order`) VALUES
(5, '塞罕坝机械林场位于哪个省份？', 'single', '["河北省", "内蒙古", "辽宁省", "吉林省"]', 'A', '塞罕坝机械林场位于河北省承德市围场满族蒙古族自治县。', 10, 1, 1),
(5, '塞罕坝林场建立于哪一年？', 'single', '["1960年", "1962年", "1965年", "1970年"]', 'B', '塞罕坝机械林场于1962年建立。', 10, 2, 2),
(5, '塞罕坝的名字是什么意思？', 'single', '["美丽的高岭", "绿色的海洋", "神奇的土地", "希望的田野"]', 'A', '塞罕坝是蒙汉合璧语，意为"美丽的高岭"。', 10, 2, 3),
(5, '塞罕坝林场的总面积约为多少万亩？', 'single', '["50万亩", "80万亩", "115万亩", "150万亩"]', 'C', '塞罕坝林场总面积约115万亩，是世界上最大的人工林。', 10, 2, 4),
(5, '塞罕坝精神的核心是什么？', 'single', '["艰苦创业、科学求实、无私奉献、开拓创新、爱岗敬业", "自力更生、艰苦奋斗", "实事求是、与时俱进", "团结协作、勇于创新"]', 'A', '塞罕坝精神的核心是"艰苦创业、科学求实、无私奉献、开拓创新、爱岗敬业"。', 10, 2, 5),
(5, '塞罕坝获得了联合国颁发的什么奖项？', 'single', '["地球卫士奖", "诺贝尔和平奖", "环境保护奖", "绿色发展奖"]', 'A', '2017年，塞罕坝林场建设者获得联合国环境规划署颁发的"地球卫士奖"。', 10, 1, 6);
