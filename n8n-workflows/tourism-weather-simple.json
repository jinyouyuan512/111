{
  "name": "智慧旅游 - 天气查询（简化版）",
  "nodes": [
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "tourism/weather",
        "responseMode": "lastNode",
        "options": {}
      },
      "id": "webhook-weather",
      "name": "Webhook",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2,
      "position": [250, 300],
      "webhookId": "tourism-weather-001"
    },
    {
      "parameters": {
        "jsCode": "// 获取请求数据\nconst body = $input.first().json.body || $input.first().json;\nconst spots = body.spots || ['西柏坡纪念馆'];\n\n// 景点城市映射\nconst spotCityMap = {\n  '西柏坡纪念馆': '石家庄',\n  '狼牙山五壮士纪念地': '保定',\n  '冉庄地道战遗址': '保定',\n  '李大钊纪念馆': '唐山',\n  '白洋淀雁翎队纪念馆': '保定'\n};\n\n// 生成天气数据（模拟）\nconst weather = spots.map(spot => ({\n  spotName: spot,\n  city: spotCityMap[spot] || '石家庄',\n  date: new Date().toISOString().split('T')[0],\n  condition: ['晴', '多云', '阴'][Math.floor(Math.random() * 3)],\n  temperature: {\n    min: Math.floor(Math.random() * 5) + 1,\n    max: Math.floor(Math.random() * 10) + 8\n  },\n  humidity: Math.floor(Math.random() * 30) + 40,\n  suggestion: '天气适宜出行，祝旅途愉快'\n}));\n\nreturn { weather };"
      },
      "id": "code-weather",
      "name": "生成天气数据",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [500, 300]
    }
  ],
  "connections": {
    "Webhook": {
      "main": [
        [
          {
            "node": "生成天气数据",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1"
  }
}
