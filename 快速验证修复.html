<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å¿«é€ŸéªŒè¯ä¿®å¤</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 800px;
      margin: 20px auto;
      padding: 20px;
      background: #f5f7fa;
    }
    .container {
      background: white;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 2px 12px rgba(0,0,0,0.1);
    }
    h1 {
      color: #a0182f;
      border-bottom: 3px solid #a0182f;
      padding-bottom: 10px;
    }
    .step {
      background: #fff9e6;
      border-left: 4px solid #ffd700;
      padding: 15px;
      margin: 15px 0;
    }
    .result {
      background: #f0f9ff;
      border: 1px solid #409eff;
      padding: 15px;
      margin: 15px 0;
      border-radius: 6px;
      white-space: pre-wrap;
      font-family: monospace;
      font-size: 13px;
    }
    .error {
      background: #fef0f0;
      border: 1px solid #f56c6c;
      color: #f56c6c;
      padding: 15px;
      margin: 15px 0;
      border-radius: 6px;
    }
    .success {
      background: #f0f9ff;
      border: 1px solid #67c23a;
      color: #67c23a;
      padding: 15px;
      margin: 15px 0;
      border-radius: 6px;
    }
    button {
      background: #a0182f;
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 16px;
      margin: 10px 5px;
    }
    button:hover {
      background: #8b1538;
    }
    .code {
      background: #f5f5f5;
      padding: 10px;
      border-radius: 4px;
      margin: 10px 0;
      font-family: monospace;
      font-size: 13px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ” å¿«é€ŸéªŒè¯ä¿®å¤</h1>
    
    <div class="step">
      <strong>ğŸ“‹ éªŒè¯ç›®çš„ï¼š</strong>
      <p>æ£€æŸ¥ Creative.vue æ–‡ä»¶æ˜¯å¦çœŸçš„è¢«ä¿®æ”¹ï¼Œä»¥åŠæµè§ˆå™¨æ˜¯å¦ä½¿ç”¨äº†æ–°ä»£ç ã€‚</p>
    </div>

    <h2>æ­¥éª¤ 1: æ£€æŸ¥æºä»£ç </h2>
    <button onclick="checkSourceCode()">ğŸ” æ£€æŸ¥æºä»£ç </button>
    <div id="sourceResult"></div>

    <h2>æ­¥éª¤ 2: æ£€æŸ¥æµè§ˆå™¨ç¼“å­˜</h2>
    <div class="step">
      <p><strong>è¯·æŒ‰ä»¥ä¸‹æ­¥éª¤æ¸…é™¤ç¼“å­˜ï¼š</strong></p>
      <ol>
        <li>æŒ‰ <code>Ctrl + Shift + Delete</code> æ‰“å¼€æ¸…é™¤ç¼“å­˜å¯¹è¯æ¡†</li>
        <li>é€‰æ‹©"ç¼“å­˜çš„å›¾ç‰‡å’Œæ–‡ä»¶"</li>
        <li>ç‚¹å‡»"æ¸…é™¤æ•°æ®"</li>
        <li>æˆ–è€…æŒ‰ <code>Ctrl + F5</code> å¼ºåˆ¶åˆ·æ–°é¡µé¢</li>
      </ol>
    </div>

    <h2>æ­¥éª¤ 3: æ‰“å¼€ä¼—åˆ›ç©ºé—´å¹¶æ£€æŸ¥æ§åˆ¶å°</h2>
    <button onclick="openCreative()">ğŸš€ æ‰“å¼€ä¼—åˆ›ç©ºé—´</button>
    <div class="step">
      <p><strong>åœ¨ä¼—åˆ›ç©ºé—´é¡µé¢ï¼š</strong></p>
      <ol>
        <li>æŒ‰ <code>F12</code> æ‰“å¼€å¼€å‘è€…å·¥å…·</li>
        <li>åˆ‡æ¢åˆ° Console æ ‡ç­¾</li>
        <li>ç‚¹å‡»ä»»æ„ä½œå“æŸ¥çœ‹è¯¦æƒ…</li>
        <li>æŸ¥çœ‹æ§åˆ¶å°æ˜¯å¦æœ‰ä»¥ä¸‹æ—¥å¿—ï¼š</li>
      </ol>
      <div class="code">
=== è·å–åª’ä½“URL ===
ä½œå“: [ä½œå“æ ‡é¢˜]
ç±»å‹: image/video/cover
coverImage: [URL]
files: [æ•°ç»„]
è§£æåçš„æ–‡ä»¶æ•°ç»„: [...]
å›¾ç‰‡/è§†é¢‘URL: [æœ€ç»ˆURL]
      </div>
    </div>

    <h2>æ­¥éª¤ 4: å¦‚æœè¿˜æ˜¯æ²¡æœ‰å˜åŒ–</h2>
    <div class="error">
      <strong>âš ï¸ å¯èƒ½çš„åŸå› ï¼š</strong>
      <ul>
        <li>å‰ç«¯æœåŠ¡æ²¡æœ‰çœŸæ­£é‡å¯</li>
        <li>æµè§ˆå™¨ç¼“å­˜æ²¡æœ‰æ¸…é™¤</li>
        <li>æ‰“å¼€çš„æ˜¯æ—§æ ‡ç­¾é¡µ</li>
        <li>Vite çƒ­æ›´æ–°å¤±è´¥</li>
      </ul>
    </div>

    <div class="step">
      <p><strong>ğŸ”§ è§£å†³æ–¹æ³•ï¼š</strong></p>
      <ol>
        <li><strong>å®Œå…¨åœæ­¢å‰ç«¯æœåŠ¡</strong>
          <div class="code">åœ¨å‰ç«¯ç»ˆç«¯æŒ‰ Ctrl+C
å…³é—­ç»ˆç«¯çª—å£</div>
        </li>
        <li><strong>é‡æ–°å¯åŠ¨</strong>
          <div class="code">cd frontend
npm run dev</div>
        </li>
        <li><strong>å…³é—­æ‰€æœ‰æµè§ˆå™¨æ ‡ç­¾</strong></li>
        <li><strong>é‡æ–°æ‰“å¼€æµè§ˆå™¨</strong></li>
        <li><strong>è®¿é—®æ–°åœ°å€</strong>
          <div class="code">http://localhost:5173/creative?t=<span id="timestamp"></span></div>
        </li>
      </ol>
    </div>

    <h2>æ­¥éª¤ 5: æ‰‹åŠ¨éªŒè¯ä»£ç </h2>
    <button onclick="showManualCheck()">ğŸ“ æ˜¾ç¤ºæ‰‹åŠ¨éªŒè¯æ­¥éª¤</button>
    <div id="manualCheck" style="display:none;">
      <div class="step">
        <p><strong>æ‰‹åŠ¨æ‰“å¼€æ–‡ä»¶æ£€æŸ¥ï¼š</strong></p>
        <ol>
          <li>æ‰“å¼€ <code>frontend/src/views/Creative.vue</code></li>
          <li>æœç´¢ <code>getMediaUrl</code> å‡½æ•°</li>
          <li>ç¡®è®¤å‡½æ•°å­˜åœ¨ä¸”å†…å®¹æ­£ç¡®</li>
          <li>æœç´¢ <code>:src="getMediaUrl(currentWork, 'image')"</code></li>
          <li>ç¡®è®¤æ¨¡æ¿ä¸­ä½¿ç”¨äº†æ–°å‡½æ•°</li>
        </ol>
        
        <p><strong>åº”è¯¥çœ‹åˆ°çš„ä»£ç ï¼š</strong></p>
        <div class="code">// è·å–åª’ä½“URLï¼ˆç»Ÿä¸€å¤„ç†å°é¢ã€å›¾ç‰‡ã€è§†é¢‘ï¼‰
const getMediaUrl = (work: Work, type: 'cover' | 'image' | 'video') => {
  if (!work) {
    console.warn('ä½œå“æ•°æ®ä¸ºç©º')
    return ''
  }
  
  console.log('=== è·å–åª’ä½“URL ===')
  console.log('ä½œå“:', work.title)
  console.log('ç±»å‹:', type)
  // ... æ›´å¤šä»£ç 
}</div>
      </div>
    </div>

    <h2>æ­¥éª¤ 6: æˆªå›¾ç»™æˆ‘çœ‹</h2>
    <div class="step">
      <p><strong>å¦‚æœä»¥ä¸Šæ­¥éª¤éƒ½åšäº†è¿˜æ˜¯æ²¡å˜åŒ–ï¼Œè¯·æˆªå›¾ï¼š</strong></p>
      <ol>
        <li>æµè§ˆå™¨æ§åˆ¶å°çš„ Console æ ‡ç­¾ï¼ˆç‚¹å‡»ä½œå“åçš„æ—¥å¿—ï¼‰</li>
        <li>æµè§ˆå™¨æ§åˆ¶å°çš„ Network æ ‡ç­¾ï¼ˆæŸ¥çœ‹æ˜¯å¦åŠ è½½äº†æ–°çš„ JS æ–‡ä»¶ï¼‰</li>
        <li>ä½œå“è¯¦æƒ…å¼¹çª—çš„æ ·å­</li>
        <li>å‰ç«¯ç»ˆç«¯çš„è¾“å‡º</li>
      </ol>
    </div>
  </div>

  <script>
    // æ˜¾ç¤ºæ—¶é—´æˆ³
    document.getElementById('timestamp').textContent = Date.now();

    function checkSourceCode() {
      const resultDiv = document.getElementById('sourceResult');
      resultDiv.innerHTML = `
        <div class="result">
æ­£åœ¨æ£€æŸ¥æºä»£ç ...

è¯·æ‰“å¼€ä»¥ä¸‹æ–‡ä»¶ï¼š
frontend/src/views/Creative.vue

æœç´¢ä»¥ä¸‹å†…å®¹ï¼š
1. "getMediaUrl" - åº”è¯¥æ‰¾åˆ°å‡½æ•°å®šä¹‰
2. ":src="getMediaUrl(currentWork, 'image')"" - åº”è¯¥åœ¨æ¨¡æ¿ä¸­æ‰¾åˆ°
3. "handleMediaError" - åº”è¯¥æ‰¾åˆ°é”™è¯¯å¤„ç†å‡½æ•°

å¦‚æœæ‰¾åˆ°äº†ï¼Œè¯´æ˜ä»£ç å·²ç»ä¿®æ”¹ã€‚
å¦‚æœæ²¡æ‰¾åˆ°ï¼Œè¯´æ˜ä¿®æ”¹æ²¡æœ‰ä¿å­˜æˆ–æ–‡ä»¶è¢«è¦†ç›–ã€‚
        </div>
      `;
    }

    function openCreative() {
      // æ·»åŠ æ—¶é—´æˆ³é¿å…ç¼“å­˜
      const url = 'http://localhost:5173/creative?t=' + Date.now();
      window.open(url, '_blank');
      
      alert('å·²æ‰“å¼€ä¼—åˆ›ç©ºé—´é¡µé¢\n\nè¯·ï¼š\n1. æŒ‰ F12 æ‰“å¼€æ§åˆ¶å°\n2. ç‚¹å‡»ä»»æ„ä½œå“\n3. æŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—\n4. æŸ¥æ‰¾ "=== è·å–åª’ä½“URL ===" çš„æ—¥å¿—');
    }

    function showManualCheck() {
      const div = document.getElementById('manualCheck');
      div.style.display = div.style.display === 'none' ? 'block' : 'none';
    }

    // é¡µé¢åŠ è½½æ—¶çš„æç¤º
    window.onload = function() {
      console.log('=== éªŒè¯é¡µé¢å·²åŠ è½½ ===');
      console.log('å½“å‰æ—¶é—´:', new Date().toLocaleString());
      console.log('æ—¶é—´æˆ³:', Date.now());
    };
  </script>
</body>
</html>
