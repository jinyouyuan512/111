<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æµ‹è¯•åˆ›æ„è§†é¢‘æ’­æ”¾</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #a0182f;
            border-bottom: 3px solid #a0182f;
            padding-bottom: 10px;
        }
        .test-section {
            margin: 30px 0;
            padding: 20px;
            background: #f9f9f9;
            border-radius: 8px;
        }
        .test-section h2 {
            color: #333;
            margin-top: 0;
        }
        video {
            width: 100%;
            max-width: 800px;
            background: #000;
            border-radius: 8px;
        }
        .info {
            background: #e3f2fd;
            padding: 15px;
            border-left: 4px solid #2196f3;
            margin: 20px 0;
        }
        .success {
            background: #e8f5e9;
            border-left-color: #4caf50;
        }
        .error {
            background: #ffebee;
            border-left-color: #f44336;
        }
        button {
            background: #a0182f;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin: 5px;
        }
        button:hover {
            background: #8b1538;
        }
        .log {
            background: #263238;
            color: #aed581;
            padding: 15px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            max-height: 300px;
            overflow-y: auto;
            margin-top: 10px;
        }
        .log-item {
            margin: 5px 0;
            padding: 5px;
            border-left: 3px solid #4caf50;
            padding-left: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ¬ åˆ›æ„è§†é¢‘æ’­æ”¾æµ‹è¯•</h1>
        
        <div class="info">
            <strong>æµ‹è¯•ç›®çš„ï¼š</strong>éªŒè¯è§†é¢‘ä½œå“åœ¨è¯¦æƒ…å¼¹çª—ä¸­æ˜¯å¦èƒ½æ­£å¸¸æ’­æ”¾
        </div>

        <!-- æµ‹è¯•1: åŸºç¡€è§†é¢‘æ’­æ”¾ -->
        <div class="test-section">
            <h2>æµ‹è¯• 1: åŸºç¡€è§†é¢‘æ’­æ”¾</h2>
            <p>ä½¿ç”¨ W3Schools ç¤ºä¾‹è§†é¢‘</p>
            <video 
                src="https://www.w3schools.com/html/mov_bbb.mp4" 
                controls 
                poster="https://images.unsplash.com/photo-1550684848-fac1c5b4e853?w=800&auto=format&fit=crop"
                preload="metadata"
            >
                æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè§†é¢‘æ’­æ”¾
            </video>
            <div id="test1-log" class="log"></div>
        </div>

        <!-- æµ‹è¯•2: æ¡ä»¶æ¸²æŸ“ -->
        <div class="test-section">
            <h2>æµ‹è¯• 2: æ¡ä»¶æ¸²æŸ“ï¼ˆæ¨¡æ‹Ÿ Vueï¼‰</h2>
            <p>å½“å‰ä½œå“ç±»å‹: <span id="work-type">video</span></p>
            <button onclick="toggleWorkType()">åˆ‡æ¢ä½œå“ç±»å‹</button>
            <div id="media-container" style="margin-top: 20px;"></div>
            <div id="test2-log" class="log"></div>
        </div>

        <!-- æµ‹è¯•3: åŠ¨æ€URL -->
        <div class="test-section">
            <h2>æµ‹è¯• 3: åŠ¨æ€è§†é¢‘URL</h2>
            <button onclick="loadVideo1()">åŠ è½½è§†é¢‘ 1</button>
            <button onclick="loadVideo2()">åŠ è½½è§†é¢‘ 2</button>
            <button onclick="loadImage()">åŠ è½½å›¾ç‰‡</button>
            <div id="dynamic-media" style="margin-top: 20px;"></div>
            <div id="test3-log" class="log"></div>
        </div>

        <!-- æµ‹è¯•ç»“æœ -->
        <div class="test-section">
            <h2>ğŸ“Š æµ‹è¯•ç»“æœ</h2>
            <div id="results"></div>
        </div>
    </div>

    <script>
        // æ—¥å¿—å‡½æ•°
        function log(containerId, message, type = 'info') {
            const container = document.getElementById(containerId);
            const logItem = document.createElement('div');
            logItem.className = 'log-item';
            logItem.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
            container.appendChild(logItem);
            container.scrollTop = container.scrollHeight;
        }

        // æµ‹è¯•1: ç›‘å¬è§†é¢‘äº‹ä»¶
        const video1 = document.querySelector('#test1-log').previousElementSibling;
        video1.addEventListener('loadstart', () => log('test1-log', 'âœ“ è§†é¢‘å¼€å§‹åŠ è½½'));
        video1.addEventListener('loadedmetadata', () => log('test1-log', 'âœ“ è§†é¢‘å…ƒæ•°æ®å·²åŠ è½½'));
        video1.addEventListener('canplay', () => log('test1-log', 'âœ“ è§†é¢‘å¯ä»¥æ’­æ”¾'));
        video1.addEventListener('error', (e) => log('test1-log', 'âœ— è§†é¢‘åŠ è½½é”™è¯¯: ' + e.message));

        // æµ‹è¯•2: æ¡ä»¶æ¸²æŸ“
        let isVideo = true;
        function toggleWorkType() {
            isVideo = !isVideo;
            const workType = document.getElementById('work-type');
            const container = document.getElementById('media-container');
            
            workType.textContent = isVideo ? 'video' : 'image';
            log('test2-log', `åˆ‡æ¢åˆ°: ${isVideo ? 'è§†é¢‘' : 'å›¾ç‰‡'}`);
            
            if (isVideo) {
                container.innerHTML = `
                    <video 
                        src="https://www.w3schools.com/html/mov_bbb.mp4" 
                        controls 
                        style="width: 100%; max-width: 800px; background: #000; border-radius: 8px;"
                    >
                        æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè§†é¢‘æ’­æ”¾
                    </video>
                `;
                log('test2-log', 'âœ“ è§†é¢‘å…ƒç´ å·²åˆ›å»º');
            } else {
                container.innerHTML = `
                    <img 
                        src="https://images.unsplash.com/photo-1550684848-fac1c5b4e853?w=800&auto=format&fit=crop" 
                        style="width: 100%; max-width: 800px; border-radius: 8px;"
                    />
                `;
                log('test2-log', 'âœ“ å›¾ç‰‡å…ƒç´ å·²åˆ›å»º');
            }
        }
        // åˆå§‹åŒ–
        toggleWorkType();

        // æµ‹è¯•3: åŠ¨æ€URL
        function loadVideo1() {
            const container = document.getElementById('dynamic-media');
            container.innerHTML = `
                <video 
                    src="https://www.w3schools.com/html/mov_bbb.mp4" 
                    controls 
                    style="width: 100%; max-width: 800px; background: #000; border-radius: 8px;"
                    poster="https://images.unsplash.com/photo-1550684848-fac1c5b4e853?w=800&auto=format&fit=crop"
                >
                    æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè§†é¢‘æ’­æ”¾
                </video>
            `;
            log('test3-log', 'âœ“ åŠ è½½è§†é¢‘ 1');
        }

        function loadVideo2() {
            const container = document.getElementById('dynamic-media');
            container.innerHTML = `
                <video 
                    src="https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4" 
                    controls 
                    style="width: 100%; max-width: 800px; background: #000; border-radius: 8px;"
                >
                    æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè§†é¢‘æ’­æ”¾
                </video>
            `;
            log('test3-log', 'âœ“ åŠ è½½è§†é¢‘ 2');
        }

        function loadImage() {
            const container = document.getElementById('dynamic-media');
            container.innerHTML = `
                <img 
                    src="https://images.unsplash.com/photo-1558591710-4b4a1ae0f04d?w=800&auto=format&fit=crop" 
                    style="width: 100%; max-width: 800px; border-radius: 8px;"
                />
            `;
            log('test3-log', 'âœ“ åŠ è½½å›¾ç‰‡');
        }

        // æ˜¾ç¤ºæµ‹è¯•ç»“æœ
        setTimeout(() => {
            const results = document.getElementById('results');
            results.innerHTML = `
                <div class="info success">
                    <strong>âœ“ æµ‹è¯•å®Œæˆ</strong><br>
                    å¦‚æœä¸Šé¢çš„è§†é¢‘éƒ½èƒ½æ­£å¸¸æ’­æ”¾ï¼Œè¯´æ˜æµè§ˆå™¨æ”¯æŒè§†é¢‘æ’­æ”¾ã€‚<br>
                    å¦‚æœåœ¨ Vue åº”ç”¨ä¸­æ— æ³•æ’­æ”¾ï¼Œè¯·æ£€æŸ¥ï¼š<br>
                    1. isVideoWork() å‡½æ•°æ˜¯å¦æ­£ç¡®åˆ¤æ–­<br>
                    2. getVideoUrl() å‡½æ•°æ˜¯å¦è¿”å›æ­£ç¡®çš„URL<br>
                    3. æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯<br>
                    4. è§†é¢‘URLæ˜¯å¦å¯è®¿é—®
                </div>
            `;
        }, 1000);
    </script>
</body>
</html>
